{"version":3,"file":"static/js/HomePage.c55dd50c.chunk.js","mappings":"mLACA,GAAgB,KAAO,yBAAyB,KAAO,yBAAyB,MAAQ,2B,SCG3EA,EAAa,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,SAEnC,OACE,eAAIC,UAAWC,EAAAA,KAAf,SACGH,GACCA,EAAOI,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,gBAAiBC,EAAxB,EAAwBA,iBAAxB,OACT,SAAC,KAAD,CACEC,GAAI,CAAEC,SAAS,WAAD,OAAaJ,GAAMK,MAAO,CAAEC,KAAMV,IAEhDC,UAAWC,EAAAA,KAHb,UAKE,iBAAKD,UAAWC,EAAAA,QAAhB,WACE,gBACES,IAAKL,EACLM,IAAKP,EACLQ,MAAM,MACNC,OAAO,MACPb,UAAWC,EAAAA,OAEb,eAAID,UAAWC,EAAAA,MAAf,SAAyBG,QAXtBD,U,2ICqBjB,UA1BiB,WACf,OAA4BW,EAAAA,EAAAA,UAAS,IAArC,eAAOhB,EAAP,KAAeiB,EAAf,KACA,GAA0BD,EAAAA,EAAAA,UAAS,MAAnC,eAAOE,EAAP,KAAcC,EAAd,KAEMlB,GAAWmB,EAAAA,EAAAA,MAcjB,OAZAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAiB,mCAAG,8GAELC,EAAAA,EAAAA,MAFK,OAElBC,EAFkB,OAGtBP,GAAU,QAAIQ,EAAAA,EAAAA,GAAOD,EAAKE,WAHJ,gDAKtBP,EAAS,EAAD,IALc,yDAAH,qDAQvBG,MACC,KAGD,UAAC,IAAD,WACGJ,IAAS,yBAAMA,EAAMS,WACtB,SAAC,IAAD,CAAY3B,OAAQA,EAAQC,SAAUA,S,mLC5BtC2B,EAAW,+BACXC,EAAU,mCAEVC,EAAsB,mCAAG,2GAAOC,EAAP,+BAAa,GAAIC,EAAjB,+BAA0B,GAA1B,SACNC,MAAMF,EAAKC,GADL,YACvBE,EADuB,QAEbC,GAFa,iCAGnBD,EAASE,OAHU,gDAIzBC,QAAQC,OAAO,IAAIC,MAAJ,yBAJU,mFAAH,qDAOfhB,EAAgB,WAC3B,OAAOO,EAAuB,GAAD,OACxBF,EADwB,uCACeC,KAIjCW,EAAiB,SAAAnC,GAC5B,OAAOyB,EAAuB,GAAD,OAAIF,EAAJ,kBAAsBvB,EAAtB,oBAAoCwB,KAGtDY,EAAc,SAAAC,GACzB,OAAOZ,EAAuB,GAAD,OACxBF,EADwB,iCACSC,EADT,kBAC0Ba,KAI5CC,EAAY,SAAAtC,GACvB,OAAOyB,EAAuB,GAAD,OACxBF,EADwB,kBACNvB,EADM,4BACgBwB,KAIlCe,EAAe,SAAAvC,GAC1B,OAAOyB,EAAuB,GAAD,OACxBF,EADwB,kBACNvB,EADM,4BACgBwB,M,iEChClCJ,EAAS,SAAAzB,GACpB,OAAOA,EAAOI,KAAI,YAAuC,IAApCC,EAAmC,EAAnCA,GAAIwC,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,YAOpC,MAAO,CAAE1C,GAAAA,EAAIC,gBANWuC,GAAgBC,EAMVvC,iBAJXwC,EAAW,0CACSA,GACnCC,Q,2rKCJO,SAASC,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,EAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOH,MAAMxC,KAAK2C,GFInF,CAAgBJ,KAAQ,EAAAO,EAAA,GAA2BP,IGLvE,WACb,MAAM,IAAIQ,UAAU,wIHIwE","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.js","components/pages/HomePage.js","components/services/movies-api.js","components/utils/mapper.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"List\":\"MoviesList_List__solOa\",\"Item\":\"MoviesList_Item__6qotj\",\"Title\":\"MoviesList_Title__DsIvd\"};","import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport s from './MoviesList.module.css';\n\nexport const MoviesList = ({ movies, location }) => {\n  // console.log(location);\n  return (\n    <ul className={s.List}>\n      {movies &&\n        movies.map(({ id, normalizedTitle, normalizedPoster }) => (\n          <Link\n            to={{ pathname: `/movies/${id}`, state: { from: location } }}\n            key={id}\n            className={s.Item}\n          >\n            <div className={s.Wrapper}>\n              <img\n                src={normalizedPoster}\n                alt={normalizedTitle}\n                width=\"150\"\n                height=\"225\"\n                className={s.Img}\n              />\n              <h2 className={s.Title}>{normalizedTitle}</h2>\n            </div>\n          </Link>\n        ))}\n    </ul>\n  );\n};\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      normalizedTitle: PropTypes.string,\n      normalizedPoster: PropTypes.string,\n      id: PropTypes.number,\n    })\n  ).isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { fetchTrending } from '../services/movies-api';\nimport { MoviesList } from '../MoviesList';\nimport { Container } from '../Container';\nimport { mapper } from '../utils/mapper';\n\nconst HomePage = () => {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n\n  const location = useLocation();\n\n  useEffect(() => {\n    const getMoviesTrending = async () => {\n      try {\n        let data = await fetchTrending();\n        setMovies([...mapper(data.results)]);\n      } catch (error) {\n        setError(error);\n      }\n    };\n    getMoviesTrending();\n  }, []);\n\n  return (\n    <Container>\n      {error && <div>{error.message}</div>}\n      <MoviesList movies={movies} location={location} />\n    </Container>\n  );\n};\n\nexport default HomePage;\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '3b4cb0b5c3c509ec710c203c7a14be66';\n\nconst fetchWithErrorHandling = async (url = '', config = {}) => {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error(`Something went wrong`));\n};\n\nexport const fetchTrending = () => {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n};\n\nexport const fetchMovieById = id => {\n  return fetchWithErrorHandling(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`);\n};\n\nexport const movieSearch = searchQuery => {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${searchQuery}`\n  );\n};\n\nexport const fetchCast = id => {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`\n  );\n};\n\nexport const fetchReviews = id => {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`\n  );\n};\n","import emptyImg from '../../images/img_not_found.jpg';\n\nexport const mapper = movies => {\n  return movies.map(({ id, title, name, poster_path }) => {\n    const normalizedTitle = title ? title : name;\n    let normalizedPoster = '';\n    normalizedPoster = poster_path\n      ? `https://image.tmdb.org/t/p/w500/${poster_path}`\n      : emptyImg;\n\n    return { id, normalizedTitle, normalizedPoster };\n  });\n};\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["MoviesList","movies","location","className","s","map","id","normalizedTitle","normalizedPoster","to","pathname","state","from","src","alt","width","height","useState","setMovies","error","setError","useLocation","useEffect","getMoviesTrending","fetchTrending","data","mapper","results","message","BASE_URL","API_KEY","fetchWithErrorHandling","url","config","fetch","response","ok","json","Promise","reject","Error","fetchMovieById","movieSearch","searchQuery","fetchCast","fetchReviews","title","name","poster_path","emptyImg","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","unsupportedIterableToArray","TypeError"],"sourceRoot":""}